{# 
  Quote Card Component
  
  Usage:
    {% include "components/quote_card.html" with quote=quote %}
#}

<article class="card card-hover" id="quote-{{ quote.id }}">
    <div class="card-body">
        <!-- Citation -->
        <blockquote class="relative pl-4 border-l-4 border-primary-300 mb-3">
            <span class="absolute -left-2 -top-2 text-4xl text-primary-200 font-serif">"</span>
            <p class="text-gray-800 italic font-serif text-lg leading-relaxed">
                {{ quote.content }}
            </p>
        </blockquote>
        
        <!-- Contexte -->
        {% if quote.context %}
            <p class="text-sm text-gray-500 mb-3">
                <span class="i-lucide-info text-xs mr-1"></span>
                {{ quote.context }}
            </p>
        {% endif %}
        
        <!-- Attribution -->
        <footer class="flex items-center justify-between">
            <div class="flex items-center gap-3">
                {% if quote.character.avatar %}
                    <img src="{{ quote.character.avatar.url }}" 
                         alt="{{ quote.character.name }}"
                         class="avatar-sm">
                {% else %}
                    <span class="avatar-sm avatar-placeholder">
                        <span class="i-lucide-user text-xs"></span>
                    </span>
                {% endif %}
                
                <div>
                    <a href="#" class="font-medium text-gray-900 hover:text-primary-600">
                        {{ quote.character.name }}
                    </a>
                    {% if quote.report %}
                        <p class="text-xs text-gray-500">
                            dans <a href="#" class="hover:text-primary-600">{{ quote.report.title|default:"un compte-rendu" }}</a>
                        </p>
                    {% endif %}
                </div>
            </div>
            
            <!-- Visibilité -->
            {% if quote.visibility == 'ephemeral' %}
                <span class="badge-accent">
                    <span class="i-lucide-clock text-xs"></span>
                    Éphémère
                </span>
            {% elif quote.visibility == 'private' %}
                <span class="badge-gray">
                    <span class="i-lucide-lock text-xs"></span>
                    Privée
                </span>
            {% endif %}
        </footer>
    </div>
</article>
